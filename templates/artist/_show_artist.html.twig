{% extends 'base.html.twig' %}

{% block title %}
    {% if artist.pseudo is not null %}
        {{ artist.pseudo }}
    {% elseif artist.firstname is not null %}
        {{ artist.firstname }}
    {% else %}
        {{ "Arts D'Eko" }}
    {% endif %}
{% endblock %}
{% block body %}
    <div class="memphis-background">
        <div class="container pt-5">
            <h2 class="title-shadow font-weight-bold text-uppercase">
                {% block head_title %}{% endblock %}
            </h2>
            <div class="d-flex mt-5">
                <div class="d-flex flex-column align-items-end pr-5">
                    {% if artist.avatar %}
                        <img class="avatar-picture " src="{{ asset('build/artists/%s')|format(artist.avatar.url) }}" >
                    {% else %}
                        <img class="avatar-picture " src="{{ asset('build/default-profile.png') }}">
                    {% endif %}
                {% block link_edit_profil %}{% endblock %}
                </div>
                <div class="d-flex flex-column">
                    <div class="d-flex flex-column align-items-start">
                    <h3 class="text-uppercase title-shadow-grey
                        color-{{ (artist.disciplines is empty) ? 'move' : artist.disciplines[0].color }}">
                        <span class="title-content"><strong>{{ artist.firstname is null ? 'Prénom' : artist.firstname }}</strong>
                            {{ (artist.lastname is null) ? 'Nom' : artist.lastname }}</span>
                    </h3>
                    <h4 class="title-shadow-grey text-uppercase
                        color-{{ (artist.disciplines is empty) ? 'move' : artist.disciplines[0].color }}">
                        <span class="title-content">{{ (artist.expertise is null) ? 'Spécialité' : artist.expertise }}</span>
                    </h4>
                    </div>
                    <p><i class="fas fa-map-marker-alt icon icon-localisation
                        color-{{ (artist.disciplines is empty) ? 'move' : artist.disciplines[0].color }}">
                        </i> {{ (artist.zipcode is null) ? "Code postal" : artist.zipcode }}
                    </p>
                    <p>{{ (artist.description is null) ? 'Description du profil' : artist.description }}</p>
                    <div class="d-flex">
                    {% block icon %}{% endblock %}
                    <p>
                        <a href="#"><i class="fab fa-facebook fa-2x ml-4 mr-2 icon color-{{ (artist.disciplines is empty) ? 'move' : artist.disciplines[0].color }} icon-secondary"></i></a>
                        <a href="#"><i class="fab fab fa-instagram fa-2x ml-2 mr-2 icon color-{{ (artist.disciplines is empty) ? 'move' : artist.disciplines[0].color }} icon-secondary"></i></a>
                    </p>
                    </div>
                </div>
            </div>
        </div>

        {% block artworks %}
            <div class="d-flex flex-column">
            <div class="container pt-5 d-flex flex-wrap">
            {% for artwork in artist.artworks %}
                {% if artwork.media.support == "photo" %}
                    <div class="col-4">
                        <h4 class="title-shadow-grey text-uppercase color-{{ artist.disciplines[0].color }}">
                            <span class="title-content">{{ artwork.name }}</span>
                        </h4>
                        <img src="{{ artwork.media.url }}" alt="{{ artwork.name }}" width="100%">
                    </div>
                {% elseif artwork.media.support == "video" %}
                    <div class="col-12 col-md-6">
                        <h4 class="title-shadow-grey text-uppercase color-{{ artist.disciplines[0].color }}">
                            <span class="title-content">{{ artwork.name }}</span>
                        </h4>
                        <iframe width="100%" height="360" src="{{ artwork.media.url }}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                {% endif %}
            {% else %}
                <p>Pas de contenu pour l'instant </p>
            {% endfor %}
            </div>
            {% if not app.user is same as(artist) %}
                <div class="mt-3 container d-flex justify-content-end">
                    <a href="{{ path('artist_contact',{ user_id: artist.id }) }}" class="link-{{ (artist.disciplines is empty) ? 'move' : artist.disciplines[0].color }}
                    profil-link mt-1 profil-link-border-{{ (artist.disciplines is empty) ? 'move' : artist.disciplines[0].color }}">
                        Contacter l'artiste</a>
                </div>
            {% endif %}
            </div>
        {% endblock %}

        {% block search %}
            <div class="container mt-5 py-5">
                <h2 class="title-shadow text-uppercase font-weight-bold ">
                    <span class="title-content">Recherche</span>
                </h2>
            </div>{% endblock %}

        {% block announcements %}
        <div class="container mt-5 py-5">
            <h2 class="title-shadow text-uppercase font-weight-bold ">
                <span class="title-content">Les annonces</span>
            </h2>
        </div>
        {% endblock %}
    </div>
{% endblock %}
